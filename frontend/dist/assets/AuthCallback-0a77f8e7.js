import{k as i,q as l,j as u,r as h,l as t,s as d,z as a,H as g,I as f}from"./index-49acb732.js";const x=()=>{const r=i(),[s]=l(),{setUserFromToken:o}=u();return h.useEffect(()=>{(async()=>{const n=s.get("token"),c=s.get("error");if(c){let e="Authentication failed";switch(c){case"auth_failed":e="Google authentication failed";break;case"server_error":e="Server error during authentication";break;case"oauth_failed":e="OAuth process failed";break;default:e="Authentication error occurred"}a.error(e),r("/login");return}if(n)try{g(n);const e=await f.getMe();o(e),a.success("Successfully logged in with Google!"),e.role==="admin"?r("/admin"):r("/")}catch(e){console.error("Error processing auth callback:",e),a.error("Failed to complete authentication"),r("/login")}else a.error("No authentication token received"),r("/login")})()},[s,r,o]),t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx(d,{}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Completing authentication..."})]})})};export{x as default};
//# sourceMappingURL=AuthCallback-0a77f8e7.js.map
