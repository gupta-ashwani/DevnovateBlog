import{r as i,q as S,o as B,l as e,s as k,n as l,L as c}from"./index-f61b2bac.js";import{C as E}from"./calendar-482486aa.js";import{E as A}from"./eye-87bbbeff.js";const R=()=>{const[a,N]=i.useState([]),[v,o]=i.useState(!0),[x,b]=i.useState(null),[w]=S(),t=w.get("search");i.useEffect(()=>{m()},[t]);const m=async()=>{try{o(!0);const s=t?{search:t}:{},r=(await B.getBlogs(s)).blogs.filter(n=>n.status==="approved");N(r)}catch(s){console.error("Error fetching blogs:",s),b("Failed to load blogs")}finally{o(!1)}},L=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(k,{size:"lg"})}):x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:x}),e.jsx("button",{onClick:m,className:"bg-gray-900 text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Try Again"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t?`Search Results for "${t}"`:"Latest Blogs"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:t?`Found ${a.length} blog${a.length!==1?"s":""} matching your search`:"Discover insights, tutorials, and blogs from our community of developers and creators."})]}),a.length===0?e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"No blogs yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to share your knowledge with the community!"}),e.jsx(c,{to:"/write",className:"bg-gray-900 text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Write Your Blog"})]}):e.jsx("div",{className:"space-y-8",children:a.map((s,d)=>{var r,n,h,u,p,g,y,f;return e.jsx(l.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:((n=(r=s.author)==null?void 0:r.firstName)==null?void 0:n.charAt(0).toUpperCase())||((u=(h=s.author)==null?void 0:h.username)==null?void 0:u.charAt(0).toUpperCase())||"A"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:((p=s.author)==null?void 0:p.fullName)||((g=s.author)==null?void 0:g.username)||"Anonymous"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{children:L(s.createdAt)})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsxs("span",{children:[((y=s.metrics)==null?void 0:y.views)||0," views"]})]})]})]})]}),e.jsxs(c,{to:`/blog/${s.slug}`,className:"block group",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors",children:s.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4 line-clamp-3",children:s.excerpt||s.content.substring(0,200)+"..."})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[(f=s.tags)==null?void 0:f.slice(0,3).map(j=>e.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:j},j)),s.tags&&s.tags.length>3&&e.jsxs("span",{className:"text-gray-500 text-sm",children:["+",s.tags.length-3," more"]})]}),e.jsxs(c,{to:`/blog/${s.slug}`,className:"text-blue-600 hover:text-blue-800 font-medium text-sm flex items-center space-x-1 group",children:[e.jsx("span",{children:"Read more"}),e.jsx("svg",{className:"h-4 w-4 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},s._id)})})]})})};export{R as default};
//# sourceMappingURL=BlogList-140f4fbe.js.map
