{"version":3,"file":"user-b7d097c8.js","sources":["../../src/services/user.ts"],"sourcesContent":["import { apiRequest } from \"./api\";\r\nimport { User, BlogsResponse, UpdateUserData } from \"@/types\";\r\n\r\nexport const userService = {\r\n  // Get user profile by username\r\n  getUserProfile: async (username: string): Promise<User> => {\r\n    const response = await apiRequest.get<{ user: User }>(`/users/${username}`);\r\n    return response.data!.user;\r\n  },\r\n\r\n  // Get user by username (alias for getUserProfile)\r\n  getUserByUsername: async (username: string): Promise<User> => {\r\n    return userService.getUserProfile(username);\r\n  },\r\n\r\n  // Get user by ID\r\n  getUserById: async (id: string): Promise<User> => {\r\n    const response = await apiRequest.get<{ user: User }>(`/users/id/${id}`);\r\n    return response.data!.user;\r\n  },\r\n\r\n  // Update user profile\r\n  updateProfile: async (data: UpdateUserData): Promise<User> => {\r\n    const response = await apiRequest.put<{ user: User }>(\r\n      \"/users/me\",\r\n      data\r\n    );\r\n    // The API returns { status: \"success\", data: { user: {...} } }\r\n    return response.data!.user;\r\n  },\r\n\r\n  // Get user's public blogs\r\n  getUserBlogs: async (\r\n    username: string,\r\n    page: number = 1,\r\n    limit: number = 10\r\n  ): Promise<BlogsResponse> => {\r\n    const response = await apiRequest.get<BlogsResponse>(\r\n      `/users/${username}/blogs`,\r\n      { page, limit }\r\n    );\r\n    return response.data!;\r\n  },\r\n\r\n  // Get user stats\r\n  getUserStats: async (userId?: string): Promise<any> => {\r\n    const endpoint = userId ? `/users/${userId}/stats` : \"/users/me/stats\";\r\n    const response = await apiRequest.get(endpoint);\r\n    return response.data;\r\n  },\r\n\r\n  // Get current user's own blogs (including drafts)\r\n  getMyBlogs: async (\r\n    status?: string,\r\n    page: number = 1,\r\n    limit: number = 10\r\n  ): Promise<BlogsResponse> => {\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(status && { status }),\r\n    });\r\n    const response = await apiRequest.get<BlogsResponse>(\r\n      `/users/me/blogs?${params}`\r\n    );\r\n    return response.data!;\r\n  },\r\n\r\n  // Get current user profile\r\n  getCurrentUser: async (): Promise<User> => {\r\n    const response = await apiRequest.get<{ user: User }>(\"/users/me\");\r\n    return response.data!.user;\r\n  },\r\n\r\n  // Follow/Unfollow user\r\n  toggleFollow: async (userId: string): Promise<{ isFollowing: boolean }> => {\r\n    const response = await apiRequest.post<{ isFollowing: boolean }>(\r\n      `/users/${userId}/follow`\r\n    );\r\n    return response.data!;\r\n  },\r\n\r\n  // Search users\r\n  searchUsers: async (query: string, limit: number = 10): Promise<User[]> => {\r\n    const response = await apiRequest.get<{ users: User[] }>(\"/users/search\", {\r\n      q: query,\r\n      limit,\r\n    });\r\n    return response.data!.users;\r\n  },\r\n\r\n  // Get top authors\r\n  getTopAuthors: async (limit: number = 10): Promise<User[]> => {\r\n    const response = await apiRequest.get<{ authors: User[] }>(\r\n      \"/users/top-authors\",\r\n      { limit }\r\n    );\r\n    return response.data!.authors;\r\n  },\r\n};\r\n"],"names":["userService","username","apiRequest","id","data","page","limit","userId","endpoint","status","params","query"],"mappings":"wCAGO,MAAMA,EAAc,CAEzB,eAAgB,MAAOC,IACJ,MAAMC,EAAW,IAAoB,UAAUD,CAAQ,EAAE,GAC1D,KAAM,KAIxB,kBAAmB,MAAOA,GACjBD,EAAY,eAAeC,CAAQ,EAI5C,YAAa,MAAOE,IACD,MAAMD,EAAW,IAAoB,aAAaC,CAAE,EAAE,GACvD,KAAM,KAIxB,cAAe,MAAOC,IACH,MAAMF,EAAW,IAChC,YACAE,CAAA,GAGc,KAAM,KAIxB,aAAc,MACZH,EACAI,EAAe,EACfC,EAAgB,MAEC,MAAMJ,EAAW,IAChC,UAAUD,CAAQ,SAClB,CAAE,KAAAI,EAAM,MAAAC,CAAM,CAAA,GAEA,KAIlB,aAAc,MAAOC,GAAkC,CACrD,MAAMC,EAAWD,EAAS,UAAUA,CAAM,SAAW,kBAErD,OADiB,MAAML,EAAW,IAAIM,CAAQ,GAC9B,IAClB,EAGA,WAAY,MACVC,EACAJ,EAAe,EACfC,EAAgB,KACW,CACrB,MAAAI,EAAS,IAAI,gBAAgB,CACjC,KAAML,EAAK,SAAS,EACpB,MAAOC,EAAM,SAAS,EACtB,GAAIG,GAAU,CAAE,OAAAA,CAAO,CAAA,CACxB,EAID,OAHiB,MAAMP,EAAW,IAChC,mBAAmBQ,CAAM,EAAA,GAEX,IAClB,EAGA,eAAgB,UACG,MAAMR,EAAW,IAAoB,WAAW,GACjD,KAAM,KAIxB,aAAc,MAAOK,IACF,MAAML,EAAW,KAChC,UAAUK,CAAM,SAAA,GAEF,KAIlB,YAAa,MAAOI,EAAeL,EAAgB,MAChC,MAAMJ,EAAW,IAAuB,gBAAiB,CACxE,EAAGS,EACH,MAAAL,CAAA,CACD,GACe,KAAM,MAIxB,cAAe,MAAOA,EAAgB,MACnB,MAAMJ,EAAW,IAChC,qBACA,CAAE,MAAAI,CAAM,CAAA,GAEM,KAAM,OAE1B"}