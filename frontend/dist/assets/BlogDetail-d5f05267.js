import{h as j,t as g,x as Ae,j as Pe,k as De,r as i,o as $,z as c,l as e,s as ae,L as y,y as ze,U as le,A as Me}from"./index-49acb732.js";import{A as Fe}from"./arrow-left-557bc3ab.js";import{T as Ie}from"./tag-57dbb6de.js";import{H as ne,M as B}from"./message-circle-3cc0cca2.js";import{E as Ue}from"./eye-4a2b8866.js";import{S as He}from"./share-2-4623af60.js";import{T as Ve}from"./twitter-e8a10bbf.js";import{C as qe}from"./check-399885b4.js";import{P as Oe}from"./pen-line-7f8b3b93.js";import{T as oe}from"./trash-2-566cd777.js";import{R as Je,r as We,S as ce,a as Ge,t as Ye}from"./index-c4a168d7.js";const Ke=j("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),Qe=j("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ie=j("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Xe=j("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ze=j("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),es=j("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),N={getComments:async(d,n=1,m=20)=>(await g.get(`/blogs/${d}/comments`,{page:n,limit:m})).data,createComment:async(d,n)=>(await g.post(`/blogs/${d}/comments`,n)).data.comment,updateComment:async(d,n)=>(await g.put(`/comments/${d}`,{content:n})).data.comment,deleteComment:async d=>g.delete(`/comments/${d}`),toggleCommentLike:async d=>(await g.post(`/comments/${d}/like`)).data,reportComment:async(d,n)=>g.post(`/comments/${d}/report`,{reason:n}),getReplies:async(d,n=1,m=10)=>(await g.get(`/comments/${d}/replies`,{page:n,limit:m})).data},ss=({commentId:d,authorName:n,user:m,onSubmit:r,onCancel:S})=>{var w,v;const[p,u]=i.useState(""),_=f=>{if(f.preventDefault(),!p.trim()){c.error("Please enter a reply");return}r(d,p.trim()),u("")};return e.jsx("div",{className:"mt-4 bg-gray-50 rounded-xl border border-gray-200 p-4",children:e.jsx("form",{onSubmit:_,children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-medium flex-shrink-0 text-sm",children:((w=m==null?void 0:m.firstName)==null?void 0:w.charAt(0))||((v=m==null?void 0:m.username)==null?void 0:v.charAt(0))}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{value:p,onChange:f=>u(f.target.value),placeholder:`Reply to ${n}...`,className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm bg-white",rows:3,autoFocus:!0}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>{u(""),S()},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:!p.trim(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Reply"})]})]})]})]})})})},hs=()=>{var G,Y,K,Q,X,Z;const{slug:d}=Ae(),{user:n}=Pe(),m=De(),[r,S]=i.useState(null),[p,u]=i.useState([]),[_,w]=i.useState(!0),[v,f]=i.useState(!1),[de,A]=i.useState(!1),[E,me]=i.useState(!1),[xe,P]=i.useState(0),[k,D]=i.useState(""),[z,L]=i.useState(!1),[M,F]=i.useState(!1),[he,ue]=i.useState(!1),[pe,ge]=i.useState(0),[I,R]=i.useState(null),[U,fe]=i.useState(new Set),[H,be]=i.useState(new Set),[V,C]=i.useState(null),ye=i.useRef(null),je={code({node:s,inline:t,className:l,children:a,...o}){const x=/language-(\w+)/.exec(l||"");return!t&&x?e.jsx(Ge,{style:Ye,language:x[1],PreTag:"div",className:"rounded-lg my-4",...o,children:String(a).replace(/\n$/,"")}):e.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono",...o,children:a})},blockquote:({children:s})=>e.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 py-2 my-6 italic text-gray-600 bg-blue-50 rounded-r-lg",children:s}),h1:({children:s})=>e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mt-8 mb-4",children:s}),h2:({children:s})=>e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:s}),h3:({children:s})=>e.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-6 mb-3",children:s}),p:({children:s})=>e.jsx("p",{className:"text-gray-800 leading-relaxed mb-6",children:s}),ul:({children:s})=>e.jsx("ul",{className:"list-disc list-inside mb-6 space-y-2 text-gray-800",children:s}),ol:({children:s})=>e.jsx("ol",{className:"list-decimal list-inside mb-6 space-y-2 text-gray-800",children:s}),li:({children:s})=>e.jsx("li",{className:"leading-relaxed",children:s}),a:({children:s,href:t})=>e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:s}),img:({src:s,alt:t})=>e.jsx("img",{src:s,alt:t,className:"max-w-full h-auto rounded-lg shadow-sm my-6 mx-auto"})};i.useEffect(()=>{d&&we()},[d]),i.useEffect(()=>{if(r){Ne();const s=()=>{const l=window.scrollY,a=document.documentElement.scrollHeight-window.innerHeight,o=l/a*100;ge(o),ue(l>500)},t=()=>{C(null),L(!1)};return window.addEventListener("scroll",s),document.addEventListener("click",t),()=>{window.removeEventListener("scroll",s),document.removeEventListener("click",t)}}},[r]);const we=async()=>{var s;try{w(!0);const t=await $.getBlogBySlug(d);S(t),P(((s=t.metrics)==null?void 0:s.likes)||0),A(t.isLiked||!1)}catch(t){console.error("Error fetching blog:",t),c.error("Blog not found"),m("/blogs")}finally{w(!1)}},Ne=async()=>{if(r)try{f(!0);const s=await N.getComments(r._id),t=ve(s.comments||[]);u(t)}catch(s){console.error("Error fetching comments:",s)}finally{f(!1)}},ve=s=>{const t=new Map,l=[];return s.forEach(a=>{t.set(a._id,{...a,replies:[],isExpanded:!0})}),s.forEach(a=>{const o=t.get(a._id);if(a.parentComment){const x=t.get(a.parentComment);x?x.replies.push(o):l.push(o)}else l.push(o)}),l},ke=async()=>{if(!n){c.error("Please login to like this blog");return}try{const s=await $.toggleBlogLike(r._id);P(s.likeCount),A(s.liked)}catch(s){console.error("Error toggling like:",s),c.error("Failed to update like status")}},Ce=async()=>{if(!n){c.error("Please login to bookmark this blog");return}try{me(!E),c.success(E?"Removed from bookmarks":"Added to bookmarks")}catch(s){console.error("Error toggling bookmark:",s)}},T=s=>{const t=window.location.href,l=(r==null?void 0:r.title)||"";switch(s){case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(l)}&url=${encodeURIComponent(t)}`,"_blank");break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(t)}`,"_blank");break;case"copy":navigator.clipboard.writeText(t),F(!0),c.success("Link copied to clipboard!"),setTimeout(()=>F(!1),2e3);break}L(!1)},Se=async s=>{if(s.preventDefault(),!n){c.error("Please login to comment");return}if(!k.trim()){c.error("Please enter a comment");return}try{const t={content:k.trim()},a={...await N.createComment(r._id,t),replies:[],isExpanded:!0};u(o=>[a,...o]),D(""),c.success("Comment added successfully!")}catch(t){console.error("Error creating comment:",t),c.error("Failed to add comment")}},_e=async(s,t)=>{if(!n){c.error("Please login to reply");return}try{const l={content:t,parentComment:s},a=await N.createComment(r._id,l),o=x=>x.map(h=>h._id===s?{...h,replies:[...h.replies||[],{...a,replies:[],isExpanded:!0}],isExpanded:!0}:h.replies&&h.replies.length>0?{...h,replies:o(h.replies)}:h);u(x=>o(x)),R(null),c.success("Reply added successfully!")}catch(l){console.error("Error creating reply:",l),c.error("Failed to add reply")}},Ee=async s=>{if(!n){c.error("Please login to like comments");return}try{const t=await N.toggleCommentLike(s),l=a=>a.map(o=>o._id===s?{...o,likeCount:t.likeCount}:o.replies&&o.replies.length>0?{...o,replies:l(o.replies)}:o);u(a=>l(a)),fe(a=>{const o=new Set(a);return t.liked?o.add(s):o.delete(s),o})}catch(t){console.error("Error toggling comment like:",t),c.error("Failed to update like status")}},Le=s=>{be(t=>{const l=new Set(t);return l.has(s)?l.delete(s):l.add(s),l})},Re=async s=>{if(window.confirm("Are you sure you want to delete this comment?"))try{await N.deleteComment(s);const t=l=>l.filter(a=>a._id!==s).map(a=>({...a,replies:a.replies?t(a.replies):[]}));u(l=>t(l)),C(null),c.success("Comment deleted successfully")}catch(t){console.error("Error deleting comment:",t),c.error("Failed to delete comment")}},Te=()=>{const s=document.getElementById("comments-section");s&&s.scrollIntoView({behavior:"auto"})},$e=async()=>{if(window.confirm("Are you sure you want to delete this blog?"))try{await $.deleteBlog(r._id),c.success("Blog deleted successfully"),m("/blogs")}catch(s){console.error("Error deleting blog:",s),c.error("Failed to delete blog")}},q=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),Be=()=>{window.scrollTo({top:0,behavior:"auto"})},O=()=>{const s=t=>t.reduce((l,a)=>l+1+(a.replies?s(a.replies):0),0);return s(p)},J=({comment:s,depth:t=0})=>{var h,ee,se,te,re;const l=H.has(s._id),a=s.replies&&s.replies.length>0,o=3,x=(n==null?void 0:n._id)===s.author._id;return e.jsx("div",{className:`${t>0?"ml-4 md:ml-8 border-l-2 border-gray-100 pl-4 md:pl-6":""} mb-6`,children:e.jsxs("div",{className:"flex space-x-3 md:space-x-4",children:[e.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium flex-shrink-0 text-sm",children:((h=s.author.firstName)==null?void 0:h.charAt(0))||((ee=s.author.username)==null?void 0:ee.charAt(0))}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 md:p-4 border border-gray-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx(y,{to:`/profile/${s.author.username}`,className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors truncate",children:s.author.fullName||s.author.username}),e.jsxs("span",{className:"text-sm text-gray-500 hidden sm:inline",children:["@",s.author.username]}),e.jsx("span",{className:"text-sm text-gray-400 hidden sm:inline",children:"•"}),e.jsx("span",{className:"text-sm text-gray-500 truncate",children:q(s.createdAt)})]}),x&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:b=>{b.stopPropagation(),C(V===s._id?null:s._id)},className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:e.jsx(Ze,{className:"h-4 w-4"})}),V===s._id&&e.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50 min-w-[120px]",onClick:b=>b.stopPropagation(),children:[e.jsxs("button",{onClick:()=>Re(s._id),className:"flex items-center space-x-2 w-full px-3 py-2 text-left hover:bg-red-50 text-red-600 transition-colors text-sm",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{children:"Delete"})]}),e.jsx("button",{onClick:()=>C(null),className:"flex items-center space-x-2 w-full px-3 py-2 text-left hover:bg-gray-50 text-gray-600 transition-colors text-sm",children:e.jsx("span",{children:"Cancel"})})]})]})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4 break-words",children:s.content}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>Ee(s._id),className:`flex items-center space-x-2 text-sm transition-colors ${U.has(s._id)?"text-red-600 hover:text-red-700":"text-gray-500 hover:text-red-600"}`,children:[e.jsx(ne,{className:`h-4 w-4 ${U.has(s._id)?"fill-current":""}`}),e.jsx("span",{children:s.likeCount||0})]}),t<o&&e.jsxs("button",{onClick:()=>R(I===s._id?null:s._id),className:"flex items-center space-x-2 text-sm text-gray-500 hover:text-blue-600 transition-colors",children:[e.jsx(es,{className:"h-4 w-4"}),e.jsx("span",{children:"Reply"})]}),a&&e.jsxs("button",{onClick:()=>Le(s._id),className:"flex items-center space-x-2 text-sm text-gray-500 hover:text-gray-700 transition-colors",children:[l?e.jsx(ie,{className:"h-4 w-4"}):e.jsx(Qe,{className:"h-4 w-4"}),e.jsxs("span",{children:[(se=s.replies)==null?void 0:se.length," ",((te=s.replies)==null?void 0:te.length)===1?"reply":"replies"]})]})]})]}),e.jsx(Me,{children:I===s._id&&e.jsx(ss,{commentId:s._id,authorName:s.author.firstName||s.author.username,user:n,onSubmit:_e,onCancel:()=>R(null)},`reply-form-${s._id}`)}),a&&(l||H.has(s._id))&&e.jsx("div",{className:"mt-4 space-y-4",children:(re=s.replies)==null?void 0:re.map(b=>e.jsx(J,{comment:b,depth:t+1},b._id))})]})]})})};if(_)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx(ae,{size:"lg"})});if(!r)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Blog not found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The blog you're looking for doesn't exist."}),e.jsx(y,{to:"/blogs",className:"bg-gray-900 text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Browse Blogs"})]})});const W=(n==null?void 0:n._id)===r.author._id;return e.jsxs("div",{className:"min-h-screen bg-white overflow-x-hidden",children:[e.jsx("div",{className:"fixed top-0 left-0 w-full h-1 bg-gray-100 z-50",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300",style:{width:`${pe}%`}})}),e.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-40",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>m(-1),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(Fe,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsx("div",{className:"flex items-center space-x-2"})]})})}),e.jsxs("article",{className:"max-w-4xl mx-auto px-4 py-8 w-full overflow-hidden",children:[e.jsxs("div",{className:"mb-8 w-full",children:[r.tags&&r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:r.tags.slice(0,3).map(s=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-50 text-blue-700 text-sm font-medium rounded-full",children:[e.jsx(Ie,{className:"h-3 w-3 mr-1"}),s]},s))}),e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 leading-tight mb-6 break-words",children:r.title}),r.excerpt&&e.jsx("p",{className:"text-lg sm:text-xl text-gray-600 leading-relaxed mb-8 break-words",children:r.excerpt}),e.jsxs("div",{className:"flex items-center justify-between py-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(y,{to:`/profile/${r.author.username}`,className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium",children:((G=r.author.firstName)==null?void 0:G.charAt(0))||((Y=r.author.username)==null?void 0:Y.charAt(0))}),e.jsx("div",{children:e.jsx("p",{className:"font-medium text-gray-900 text-base",children:r.author.fullName||r.author.username})})]}),!W&&e.jsx("button",{className:"px-4 py-1.5 border border-gray-300 text-gray-700 text-sm font-medium rounded-full hover:bg-gray-50 transition-colors",children:"Follow"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[e.jsxs("span",{children:[r.readingTime||5," min read"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:q(r.publishedAt||r.createdAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("button",{onClick:ke,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ne,{className:`h-6 w-6 ${de?"fill-red-500 text-red-500":""}`}),e.jsx("span",{className:"text-sm font-medium",children:xe})]})}),e.jsxs("button",{onClick:Te,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(B,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:O()})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(Ue,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:((K=r.metrics)==null?void 0:K.views)||0})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:Ce,className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(Ke,{className:`h-6 w-6 ${E?"fill-current":""}`})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),L(!z)},className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(He,{className:"h-6 w-6"})}),z&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50 min-w-[180px]",onClick:s=>s.stopPropagation(),children:[e.jsxs("button",{onClick:()=>T("twitter"),className:"flex items-center space-x-3 w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors text-sm",children:[e.jsx(Ve,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{children:"Share on Twitter"})]}),e.jsxs("button",{onClick:()=>T("linkedin"),className:"flex items-center space-x-3 w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors text-sm",children:[e.jsx(ze,{className:"h-4 w-4 text-blue-700"}),e.jsx("span",{children:"Share on LinkedIn"})]}),e.jsxs("button",{onClick:()=>T("copy"),className:"flex items-center space-x-3 w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors text-sm",children:[M?e.jsx(qe,{className:"h-4 w-4 text-green-500"}):e.jsx(Xe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:M?"Copied!":"Copy link"})]})]})]})]})]}),W&&e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-4",children:[e.jsxs(y,{to:`/edit/${r._id}`,className:"flex items-center space-x-2 px-4 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx("span",{children:"Edit"})]}),e.jsxs("button",{onClick:$e,className:"flex items-center space-x-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{children:"Delete"})]})]})]}),r.featuredImage&&e.jsx("div",{className:"mb-12",children:e.jsx("img",{src:r.featuredImage,alt:r.title,className:"w-full h-96 object-cover rounded-2xl shadow-lg"})}),e.jsx("div",{className:"mb-12 w-full overflow-hidden",children:e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx(Je,{remarkPlugins:[We],components:je,children:r.content})})}),((Q=r.seo)==null?void 0:Q.keywords)&&r.seo.keywords.length>0&&e.jsxs("div",{className:"mb-12 p-6 bg-gray-50 rounded-xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Related Topics"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.seo.keywords.map(s=>e.jsx("span",{className:"px-3 py-1 bg-white text-gray-600 text-sm rounded-full border border-gray-200",children:s},s))})]})]}),e.jsx("section",{id:"comments-section",className:"bg-gray-50 py-16",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 w-full overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden w-full",children:[e.jsxs("div",{className:"p-4 sm:p-8 border-b border-gray-100",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Discussion (",O(),")"]}),e.jsx("p",{className:"text-gray-600",children:"Join the conversation and share your thoughts on this article."})]}),e.jsxs("div",{className:"p-4 sm:p-8 w-full overflow-hidden",children:[n?e.jsx("form",{onSubmit:Se,className:"mb-12",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-semibold flex-shrink-0",children:((X=n.firstName)==null?void 0:X.charAt(0))||((Z=n.username)==null?void 0:Z.charAt(0))}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{ref:ye,value:k,onChange:s=>D(s.target.value),placeholder:"What are your thoughts on this article?",className:"w-full p-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-gray-900 placeholder-gray-500",rows:4}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Be respectful and constructive in your comments."}),e.jsxs("button",{type:"submit",disabled:!k.trim(),className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Post Comment"})]})]})]})]})}):e.jsxs("div",{className:"mb-12 p-8 bg-gray-50 border border-gray-200 rounded-xl text-center",children:[e.jsx(B,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Join the discussion"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Sign in to share your thoughts and engage with other readers."}),e.jsxs(y,{to:"/login",className:"inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"Sign In to Comment"})]})]}),v?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(ae,{size:"lg"})}):p.length>0?e.jsx("div",{className:"space-y-8",children:p.map(s=>e.jsx(J,{comment:s},s._id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(B,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No comments yet"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Be the first to share your thoughts on this article."}),!n&&e.jsxs(y,{to:"/login",className:"inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"Sign In to Comment"})]})]})]})]})})}),he&&e.jsx("button",{onClick:Be,className:"fixed bottom-8 right-8 p-4 bg-white text-gray-600 rounded-full shadow-lg hover:shadow-xl border border-gray-200 hover:text-gray-900 transition-all z-40",children:e.jsx(ie,{className:"h-5 w-5"})})]})};export{hs as default};
//# sourceMappingURL=BlogDetail-d5f05267.js.map
