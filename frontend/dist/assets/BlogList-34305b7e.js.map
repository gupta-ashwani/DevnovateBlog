{"version":3,"file":"BlogList-34305b7e.js","sources":["../../src/pages/BlogList.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useSearchParams } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Calendar, User, Eye, MessageCircle } from \"lucide-react\";\r\nimport { blogService } from \"@/services/blog\";\r\nimport { Blog } from \"@/types\";\r\nimport LoadingSpinner from \"@/components/ui/LoadingSpinner\";\r\n\r\nconst BlogList: React.FC = () => {\r\n  const [blogs, setBlogs] = useState<Blog[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchParams] = useSearchParams();\r\n  const searchQuery = searchParams.get(\"search\");\r\n\r\n  useEffect(() => {\r\n    fetchBlogs();\r\n  }, [searchQuery]);\r\n\r\n  const fetchBlogs = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const filters = searchQuery ? { search: searchQuery } : {};\r\n      const response = await blogService.getBlogs(filters);\r\n      // Only show approved blogs to public\r\n      const approvedBlogs = response.blogs.filter(\r\n        (blog: Blog) => blog.status === \"approved\"\r\n      );\r\n      setBlogs(approvedBlogs);\r\n    } catch (error) {\r\n      console.error(\"Error fetching blogs:\", error);\r\n      setError(\"Failed to load blogs\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\r\n            Oops! Something went wrong\r\n          </h2>\r\n          <p className=\"text-gray-600 mb-6\">{error}</p>\r\n          <button\r\n            onClick={fetchBlogs}\r\n            className=\"bg-gray-900 text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors\"\r\n          >\r\n            Try Again\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-12\">\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"text-center mb-12\"\r\n        >\r\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\r\n            {searchQuery\r\n              ? `Search Results for \"${searchQuery}\"`\r\n              : \"Latest Blogs\"}\r\n          </h1>\r\n          <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\r\n            {searchQuery\r\n              ? `Found ${blogs.length} blog${\r\n                  blogs.length !== 1 ? \"s\" : \"\"\r\n                } matching your search`\r\n              : \"Discover insights, tutorials, and blogs from our community of developers and creators.\"}\r\n          </p>\r\n        </motion.div>\r\n\r\n        {/* Blog Grid */}\r\n        {blogs.length === 0 ? (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            className=\"text-center py-12\"\r\n          >\r\n            <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">\r\n              No blogs yet\r\n            </h3>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              Be the first to share your knowledge with the community!\r\n            </p>\r\n            <Link\r\n              to=\"/write\"\r\n              className=\"bg-gray-900 text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors\"\r\n            >\r\n              Write Your Blog\r\n            </Link>\r\n          </motion.div>\r\n        ) : (\r\n          <div className=\"space-y-8\">\r\n            {blogs.map((blog, index) => (\r\n              <motion.article\r\n                key={blog._id}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: index * 0.1 }}\r\n                className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300\"\r\n              >\r\n                <div className=\"p-8\">\r\n                  <div className=\"flex items-center space-x-4 mb-4\">\r\n                    <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium\">\r\n                      {blog.author?.firstName?.charAt(0).toUpperCase() ||\r\n                        blog.author?.username?.charAt(0).toUpperCase() ||\r\n                        \"A\"}\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"font-medium text-gray-900\">\r\n                        {blog.author?.fullName ||\r\n                          blog.author?.username ||\r\n                          \"Anonymous\"}\r\n                      </h4>\r\n                      <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\r\n                        <span className=\"flex items-center space-x-1\">\r\n                          <Calendar className=\"h-4 w-4\" />\r\n                          <span>{formatDate(blog.createdAt)}</span>\r\n                        </span>\r\n                        <span className=\"flex items-center space-x-1\">\r\n                          <Eye className=\"h-4 w-4\" />\r\n                          <span>{blog.metrics?.views || 0} views</span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <Link to={`/blog/${blog.slug}`} className=\"block group\">\r\n                    <h2 className=\"text-2xl font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors\">\r\n                      {blog.title}\r\n                    </h2>\r\n                    <p className=\"text-gray-600 leading-relaxed mb-4 line-clamp-3\">\r\n                      {blog.excerpt || blog.content.substring(0, 200) + \"...\"}\r\n                    </p>\r\n                  </Link>\r\n\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      {blog.tags?.slice(0, 3).map((tag) => (\r\n                        <span\r\n                          key={tag}\r\n                          className=\"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm\"\r\n                        >\r\n                          {tag}\r\n                        </span>\r\n                      ))}\r\n                      {blog.tags && blog.tags.length > 3 && (\r\n                        <span className=\"text-gray-500 text-sm\">\r\n                          +{blog.tags.length - 3} more\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n\r\n                    <Link\r\n                      to={`/blog/${blog.slug}`}\r\n                      className=\"text-blue-600 hover:text-blue-800 font-medium text-sm flex items-center space-x-1 group\"\r\n                    >\r\n                      <span>Read more</span>\r\n                      <svg\r\n                        className=\"h-4 w-4 group-hover:translate-x-1 transition-transform\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        stroke=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          strokeWidth={2}\r\n                          d=\"M9 5l7 7-7 7\"\r\n                        />\r\n                      </svg>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </motion.article>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogList;\r\n"],"names":["BlogList","blogs","setBlogs","useState","isLoading","setIsLoading","error","setError","searchParams","useSearchParams","searchQuery","useEffect","fetchBlogs","filters","approvedBlogs","blogService","blog","formatDate","dateString","jsx","LoadingSpinner","jsxs","motion","Link","index","_d","_c","_e","_f","Calendar","Eye","_g","_h","tag"],"mappings":"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"}