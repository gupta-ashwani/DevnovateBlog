{"version":3,"file":"Login-2b646fb8.js","sources":["../../src/pages/Login.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { ArrowLeft, Mail, Lock, Eye, EyeOff } from \"lucide-react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport GoogleAuthButton from \"@/components/ui/GoogleAuthButton\";\r\n\r\nconst Login: React.FC = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { login, user, isAuthenticated } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // Effect to handle navigation after login\r\n  useEffect(() => {\r\n    if (isAuthenticated && user) {\r\n      if (user.role === \"admin\") {\r\n        navigate(\"/admin\");\r\n      } else {\r\n        navigate(\"/\");\r\n      }\r\n    }\r\n  }, [isAuthenticated, user, navigate]);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      await login(formData);\r\n      // Navigation will be handled by useEffect when user state updates\r\n    } catch (error) {\r\n      console.error(\"Login error:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <Link\r\n          to=\"/\"\r\n          className=\"inline-flex items-center text-blue-600 hover:text-blue-700 transition-colors mb-8\"\r\n        >\r\n          <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n          Back to home\r\n        </Link>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.8 }}\r\n          className=\"text-center\"\r\n        >\r\n          <h2 className=\"text-3xl font-bold text-gray-900\">Welcome back</h2>\r\n          <p className=\"mt-2 text-gray-600\">\r\n            Sign in to your account to continue\r\n          </p>\r\n        </motion.div>\r\n      </div>\r\n\r\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 30 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.8, delay: 0.2 }}\r\n          className=\"bg-white py-8 px-4 shadow-sm sm:rounded-2xl sm:px-10 border border-gray-100\"\r\n        >\r\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n            <div>\r\n              <label\r\n                htmlFor=\"email\"\r\n                className=\"block text-sm font-medium text-gray-700 mb-2\"\r\n              >\r\n                Email address\r\n              </label>\r\n              <div className=\"relative\">\r\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                  <Mail className=\"h-5 w-5 text-gray-400\" />\r\n                </div>\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  className=\"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white transition-colors sm:text-sm\"\r\n                  placeholder=\"Enter your email\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label\r\n                htmlFor=\"password\"\r\n                className=\"block text-sm font-medium text-gray-700 mb-2\"\r\n              >\r\n                Password\r\n              </label>\r\n              <div className=\"relative\">\r\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                  <Lock className=\"h-5 w-5 text-gray-400\" />\r\n                </div>\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type={showPassword ? \"text\" : \"password\"}\r\n                  autoComplete=\"current-password\"\r\n                  required\r\n                  value={formData.password}\r\n                  onChange={handleChange}\r\n                  className=\"block w-full pl-10 pr-12 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white transition-colors sm:text-sm\"\r\n                  placeholder=\"Enter your password\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                >\r\n                  {showPassword ? (\r\n                    <EyeOff className=\"h-5 w-5 text-gray-400 hover:text-gray-600\" />\r\n                  ) : (\r\n                    <Eye className=\"h-5 w-5 text-gray-400 hover:text-gray-600\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  id=\"remember-me\"\r\n                  name=\"remember-me\"\r\n                  type=\"checkbox\"\r\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                />\r\n                <label\r\n                  htmlFor=\"remember-me\"\r\n                  className=\"ml-2 block text-sm text-gray-700\"\r\n                >\r\n                  Remember me\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"text-sm\">\r\n                <a\r\n                  href=\"#\"\r\n                  className=\"font-medium text-blue-600 hover:text-blue-500\"\r\n                >\r\n                  Forgot your password?\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isLoading}\r\n                className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 transition-colors\"\r\n              >\r\n                {isLoading ? (\r\n                  <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                ) : (\r\n                  \"Sign in\"\r\n                )}\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n          <div className=\"mt-6\">\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 flex items-center\">\r\n                <div className=\"w-full border-t border-gray-200\" />\r\n              </div>\r\n              <div className=\"relative flex justify-center text-sm\">\r\n                <span className=\"px-2 bg-white text-gray-500\">\r\n                  Or continue with\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-6\">\r\n              <GoogleAuthButton \r\n                isLoading={isLoading}\r\n                disabled={isLoading}\r\n                text=\"Sign in with Google\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-6\">\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 flex items-center\">\r\n                <div className=\"w-full border-t border-gray-200\" />\r\n              </div>\r\n              <div className=\"relative flex justify-center text-sm\">\r\n                <span className=\"px-2 bg-white text-gray-500\">\r\n                  New to Devnovate?\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-6\">\r\n              <Link\r\n                to=\"/register\"\r\n                className=\"w-full flex justify-center py-3 px-4 border border-gray-200 rounded-xl text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\r\n              >\r\n                Create an account\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["Login","formData","setFormData","useState","showPassword","setShowPassword","isLoading","setIsLoading","login","user","isAuthenticated","useAuth","navigate","useNavigate","useEffect","handleChange","e","handleSubmit","error","jsxs","Link","jsx","ArrowLeft","motion","Mail","Lock","EyeOff","Eye","GoogleAuthButton"],"mappings":"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"}