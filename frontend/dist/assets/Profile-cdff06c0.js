import{x as z,k as M,r as c,l as e,s as L,L as S,y as $,G as I,n}from"./index-49acb732.js";import{u as C}from"./user-b7d097c8.js";import{G as R}from"./globe-e939d4c3.js";import{T as q}from"./twitter-e8a10bbf.js";import{B as J}from"./bar-chart-3-131a042e.js";import{F as B}from"./file-text-44aa007a.js";import{E as h}from"./eye-4a2b8866.js";import{H as U,M as K}from"./message-circle-3cc0cca2.js";import{U as O}from"./users-400fe25d.js";import{C as Q}from"./check-circle-72c06e10.js";import{C as W}from"./calendar-9afea6da.js";const ne=()=>{var f,N,u,b,v,w,k;const{username:o}=z(),E=M(),[t,V]=c.useState(null),[g,_]=c.useState([]),[A,p]=c.useState(!0),[F,j]=c.useState(!1),[m,y]=c.useState({totalViews:0,totalLikes:0,totalComments:0,publishedBlogs:0});c.useEffect(()=>{o&&(G(),P())},[o]);const G=async()=>{try{p(!0);const s=await C.getUserByUsername(o);V(s),T(s)}catch(s){console.error("Error fetching user profile:",s)}finally{p(!1)}},P=async()=>{try{j(!0);const s=await C.getUserBlogs(o);_(s.blogs),D(s.blogs)}catch(s){console.error("Error fetching user blogs:",s)}finally{j(!1)}},T=s=>{const i=s.stats||{};y({totalViews:i.totalViews||0,totalLikes:i.totalLikes||0,totalComments:0,publishedBlogs:i.totalBlogs||0})},D=s=>{const i=s.reduce((a,r)=>{var l;return a+(((l=r.metrics)==null?void 0:l.views)||0)},0),x=s.reduce((a,r)=>{var l;return a+(((l=r.metrics)==null?void 0:l.likes)||0)},0),d=s.reduce((a,r)=>{var l;return a+(((l=r.metrics)==null?void 0:l.comments)||0)},0);y({totalViews:i,totalLikes:x,totalComments:d,publishedBlogs:s.length})},H=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return A?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(L,{size:"lg"})}):t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-4 md:space-y-0 md:space-x-6",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold overflow-hidden",children:t.avatar?e.jsx("img",{src:t.avatar,alt:t.fullName||t.username,className:"w-full h-full object-cover"}):((f=t.firstName)==null?void 0:f.charAt(0).toUpperCase())||((N=t.username)==null?void 0:N.charAt(0).toUpperCase())})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-2",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.fullName||t.username})}),e.jsxs("p",{className:"text-gray-600 mb-3",children:["@",t.username]}),t.bio&&e.jsx("p",{className:"text-gray-700 mb-4 max-w-2xl",children:t.bio}),e.jsxs("div",{className:"flex items-center space-x-4",children:[((u=t.socialLinks)==null?void 0:u.website)&&e.jsx("a",{href:t.socialLinks.website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-gray-900",children:e.jsx(R,{className:"h-5 w-5"})}),((b=t.socialLinks)==null?void 0:b.twitter)&&e.jsx("a",{href:t.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-blue-500",children:e.jsx(q,{className:"h-5 w-5"})}),((v=t.socialLinks)==null?void 0:v.linkedin)&&e.jsx("a",{href:t.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-blue-700",children:e.jsx($,{className:"h-5 w-5"})}),((w=t.socialLinks)==null?void 0:w.github)&&e.jsx("a",{href:t.socialLinks.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-gray-900",children:e.jsx(I,{className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsxs(S,{to:`/analytics/${t._id}`,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"View Analytics"]})})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Statistics"})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Blogs"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.publishedBlogs})]})]})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Views"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalViews.toLocaleString()})]})]})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Likes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalLikes.toLocaleString()})]})]})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(O,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Followers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((k=t.stats)==null?void 0:k.followersCount)||0})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Published Blogs (",m.publishedBlogs,")"]})})}),e.jsx("div",{className:"p-6",children:F?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(L,{size:"md"})}):g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No published blogs yet"}),e.jsx("p",{className:"text-gray-600",children:"This user hasn't published any blogs yet."})]}):e.jsx("div",{className:"space-y-6",children:g.map((s,i)=>{var x,d,a;return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},onClick:()=>E(`/blog/${s.slug}`),className:"border border-gray-200 rounded-lg p-6 transition-all hover:shadow-md cursor-pointer hover:border-gray-300",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 line-clamp-2",children:s.title}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Q,{className:"h-3 w-3 mr-1"}),"Published"]})]}),e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:s.excerpt||s.content.substring(0,150)+"..."}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{children:H(s.publishedAt||s.createdAt)})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(h,{className:"h-4 w-4"}),e.jsxs("span",{children:[((x=s.metrics)==null?void 0:x.views)||0," views"]})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsxs("span",{children:[((d=s.metrics)==null?void 0:d.likes)||0," likes"]})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsxs("span",{children:[((a=s.metrics)==null?void 0:a.comments)||0," comments"]})]})]})]})}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.slice(0,5).map(r=>e.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-md text-xs",children:r},r)),s.tags.length>5&&e.jsxs("span",{className:"text-gray-500 text-xs",children:["+",s.tags.length-5," more"]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(h,{className:"h-3 w-3 mr-1"}),"Click to view blog"]})})]},s._id)})})})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"User Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The user you're looking for doesn't exist."}),e.jsx(S,{to:"/",className:"bg-gray-900 text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Go Home"})]})})};export{ne as default};
//# sourceMappingURL=Profile-cdff06c0.js.map
